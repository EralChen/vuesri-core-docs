import{gZ as m,he as p,g_ as y,lE as f,h8 as l,h0 as h,h1 as V,h4 as d,oG as F,hi as L,hc as _,h6 as $}from"./chunk-r79-UitW.js";import{p as g,c as C}from"./chunk-iXGO8X4T.js";import{e as v,V as b,c as j}from"./chunk-Nl6L5Sha.js";import{V as q}from"./chunk-XYcYaV54.js";import{u as w}from"./chunk-GpV4kBjA.js";const E={...g,query:{type:Object,default:void 0}},O={...v},P=m({name:"VaDerivedFeatureLayer",components:{VaClientFeatureLayer:b,VaLayerWhen:q},emits:O,props:E,setup(e,{emit:i}){const o=w(),c=C(e,["renderer"]),u=j(i),r=p([]);return y(()=>e.query&&{...e.query},t=>{t?o.queryFeatures({where:"1=1",returnGeometry:!0,outFields:["*"],outSpatialReference:o.spatialReference,...t}).then(s=>{r.value=s.features}):r.value=[]},{immediate:!0}),{source:r,featureLayerProps:c,clientFeatureLayerOnEmit:u}}});function B(e,i,o,c,u,r){const t=l("VaClientFeatureLayer"),s=l("VaLayerWhen");return h(),V(s,null,{default:d(({layer:a})=>[$(t,L({"object-id-field":a.objectIdField,"geometry-type":a.geometryType,fields:a.fields,source:e.source,renderer:e.renderer||a.renderer},e.featureLayerProps,F(e.clientFeatureLayerOnEmit)),{default:d(()=>[_(e.$slots,"default")]),_:2},1040,["object-id-field","geometry-type","fields","source","renderer"])]),_:3})}const n=f(P,[["render",B]]);n.install=e=>{e.component(n.name,n)};export{n as V};
