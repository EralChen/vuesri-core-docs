import{V as b}from"./chunk-DZ3w8ZOu.js";import{V as w}from"./chunk-C9tqeO9j.js";import{V as k}from"./chunk--uKKWstj.js";import{gW as g,g$ as y,lJ as V,gY as x,gZ as S,lL as _,he as C,fI as $,bn as h,h5 as M,ha as E,h2 as B,h3 as O,h6 as s,hc as T,h7 as a,h8 as f,h4 as p}from"./chunk-YzRi88Dj.js";import{V as q}from"./chunk-Bv-gq04m.js";import{u as L}from"./chunk-mQ0J7OJ8.js";import{s as F}from"./chunk-DHvBO4SR.js";import{g as H,c as N}from"./chunk-BHw4eVQu.js";import"./chunk-B7IxsrlQ.js";import"./chunk-Ch0SDxT-.js";/* empty css              */import"./chunk-BJmFAILw.js";import"./chunk-DlgRifwZ.js";import"./chunk-lA_W8v3a.js";import"./chunk-BkUj7kCJ.js";import"./chunk-CurIDYYZ.js";import"./chunk-CuewZUm5.js";import"./chunk-Clcwg9Qm.js";import"./chunk-CFLxDY7g.js";import"./chunk-BeMirVWN.js";import"./chunk-CzH9YP0J.js";import"./chunk-ByM7454y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-Bw6A12Vg.js";import"./chunk-BCOlSIf9.js";function j(){const t=g("vaSublayer");if(!t)throw new Error("The component which use useSublayer() must be in a  Sublayer component");return t}const A={query:{type:Object,default:()=>({})}},I={click:t=>t},U=y({name:"VaSublayerOnClick",props:A,emits:I,setup(t,{emit:u}){const m=j(),o=L(),c=o[F],r=N(c),e=new r("click",i=>{const n=m.createQuery(),v=H(o,{x:i.event.x,y:i.event.y});n.geometry=v,n.outFields=["*"];for(const l in t.query)n[l]=t.query[l];m.queryFeatures(n).then(l=>{u("click",{...i,featureSet:l,result:l.features[0],layer:m})})});return e.add(),V(()=>{e.remove()}),x(()=>{e.remove()}),S(()=>{e.add()}),{}}});function z(t,u,m,o,c,r){return C(t.$slots,"default")}const d=_(U,[["render",z]]);d.install=t=>{t.component(d.name,d)};const Pe=y({__name:"index",setup(t){const u=async r=>{const e=r.view;await r.layer.when(),e.goTo(r.layer.fullExtent)},m=new $({symbol:new h({color:"red"})}),o=M("1=1"),c=r=>{console.log("onSublayerClick",r)};return(r,e)=>{const i=E("ElButton");return B(),O(p(b),{defaultOptions:{zoom:2}},{before:s(()=>[T("p",null,[a(i,{onClick:e[0]||(e[0]=n=>o.value="1=1")},{default:s(()=>e[3]||(e[3]=[f("1 = 1")])),_:1}),a(i,{onClick:e[1]||(e[1]=n=>o.value="1=0")},{default:s(()=>e[4]||(e[4]=[f("1 = 0")])),_:1}),a(i,{onClick:e[2]||(e[2]=n=>o.value="st='MO'")},{default:s(()=>e[5]||(e[5]=[f("st = MO")])),_:1})])]),default:s(()=>[a(p(w),{type:"vec_w",anno:!1,"spatial-reference":{wkid:3857}}),a(p(k),{sublayers:[],url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer",onLoad:u},{when:s(()=>[a(p(q),{id:0,renderer:p(m),visible:!0,definitionExpression:o.value},{default:s(()=>[a(p(d),{onClick:c})]),_:1},8,["renderer","definitionExpression"])]),_:1})]),_:1})}}});export{Pe as default};
