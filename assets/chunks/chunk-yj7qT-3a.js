import{Q as s,R as u,fB as f,ck as c,d3 as y,fG as p,fF as S,I as l,kp as R,fC as g,cV as d}from"./chunk-CMhy9c9G.js";import"./chunk-ByM7454y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */function J(r){const i=r.geometry,o=r.toJSON(),t=o;let m,e,n;return i!=null&&(e=i.spatialReference,n=p(e),t.geometryType=S(i),t.geometry=JSON.stringify(i),t.inSR=n),o.outSR?(t.outSR=p(o.outSR),m=r.outSpatialReference):i&&(t.outSR=t.inSR,m=e),t.bin&&=JSON.stringify(t.bin),t.quantizationParameters&&=JSON.stringify(t.quantizationParameters),t.outStatistics&&=JSON.stringify(t.outStatistics),t.outTimeReference&&=JSON.stringify(t.outTimeReference),r.defaultSpatialReference&&l(e,m)&&(t.defaultSR=t.inSR,delete t.inSR,delete t.outSR),t}async function N(r,i,o){return O(r,i,o)}async function O(r,i,o={}){const t=typeof r=="string"?s(r):r,m=i.geometry?[i.geometry]:[],e=await u(m,null,{signal:o.signal}),n=e?.[0];n!=null&&((i=i.clone()).geometry=n);const a=f({...t.query,f:"json",...J(i)});return c(y(t.path,"queryBins"),{...o,query:{...a,...o.query}})}async function rt(r,i,o){const{data:t}=await N(g(r),R.from(i),o);return d.fromJSON(t)}export{rt as executeBinsQuery};
