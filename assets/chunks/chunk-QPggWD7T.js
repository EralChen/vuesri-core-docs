import{V as y}from"./chunk-RQoiRbqi.js";import{V as _}from"./chunk-lGUkydyE.js";import{_ as h}from"./chunk-Vc6XN2jq.js";import{u as V}from"./chunk-fdkMBDAT.js";import{gZ as u,he as b,lu as v,g_ as w,lD as T,h8 as g,h0 as c,h1 as d,h4 as f,hc as I,h7 as L,bc as S,h2 as n,h6 as i}from"./chunk-PoaGf_98.js";import{V as R,s as $}from"./chunk-VMrusuQ2.js";import"./chunk-Aw0WzKZ1.js";import"./chunk-B3AFDltd.js";import"./chunk-UTY-68XW.js";import"./chunk--zoE-7FC.js";import"./chunk-f8_x--yi.js";import"./chunk-aHtA88ju.js";import"./chunk--5nHSvsg.js";import"./chunk-1Nhghl0W.js";import"./chunk-JJP0gO-D.js";import"./chunk-zVyniJax.js";import"./chunk-nRJGOpte.js";import"./chunk-Os1UDk4a.js";import"./chunk-k1Ha8fb3.js";import"./chunk-I0yzb-TT.js";import"./chunk-FEI8nmeL.js";const k={url:{type:String,required:!0},format:{type:String,default:"png"},transparent:{type:Boolean,default:!0},tileInfo:{type:Object,default:void 0},spatialReference:{type:Object,default:void 0}},x={load:e=>e},O=u({name:"VaSupmapZxyTileImage",components:{VaWebTileLayer:h},props:k,emits:x,setup(e,{emit:t}){const s=V(),r=b(),p=s.map.basemap.baseLayers.getItemAt(0),o=v(()=>{const a=new URL(e.url);return a.searchParams.set("transparent",e.transparent+""),a.pathname+=`/{level}/{col}/{row}.${e.format}`,decodeURIComponent(a.toString())});return w(o,a=>{r.value?.set("urlTemplate",a),r.value?.refresh()}),{defaultOptions:{urlTemplate:o.value,tileInfo:e.tileInfo||p?.tileInfo,spatialReference:e.spatialReference||p?.spatialReference},layerLoad:a=>{r.value=a.layer,t("load",a)}}}});function C(e,t,s,r,p,o){const l=g("VaWebTileLayer");return c(),d(l,{"default-options":e.defaultOptions,onLoad:e.layerLoad},{default:f(()=>[I(e.$slots,"default")]),_:3},8,["default-options","onLoad"])}const m=T(O,[["render",C]]);m.install=e=>{e.component(m.name||"VaSupmapZxyTileImage",m)};const B="https://iserver.supermap.io/iserver/services/map-china400/rest/maps/China/zxyTileImage",ae=u({__name:"basic",setup(e){const t=L({url:B,transparent:!0,format:"png"}),s=[{templateType:"VkfInput",label:"url",prop:"url"},{templateType:"VkfSwitch",label:"transparent",prop:"transparent"},{templateType:"VkfInput",label:"format",prop:"format"}],r={center:new S({x:1213019755e-2,y:475975503e-2,spatialReference:{wkid:3857}}),zoom:16};return(p,o)=>(c(),d(n(y),{"default-options":r},{before:f(()=>[i(n(R),{"form-items":s,data:t,onSetData:o[0]||(o[0]=l=>n($)(t,l))},null,8,["data"])]),default:f(()=>[i(n(_),{type:"img_w","spatial-reference":{wkid:3857}}),i(n(m),{url:t.url,transparent:t.transparent,format:t.format},null,8,["url","transparent","format"])]),_:1}))}});export{ae as default};
