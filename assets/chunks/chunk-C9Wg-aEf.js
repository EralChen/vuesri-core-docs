import{bn as y,E as f,hg as H,g_ as M,h4 as u,lV as w,lW as V,bd as C,lv as S,g$ as $,lw as z,ha as N,h2 as T,hb as j,h7 as v,h6 as b,h8 as x,hd as A}from"./chunk-CGsGeN7j.js";import{u as D}from"./chunk-DgbCwlwU.js";import"./chunk-Dr1sALog.js";import"./chunk-Bml1PvVS.js";import"./chunk-_zdR56FH.js";import"./chunk-CWLsUwCD.js";import"./chunk-CZd7Zndo.js";import"./chunk-DlX-zbf9.js";import"./chunk-DyQGuRCQ.js";import"./chunk-Dy98_7B9.js";import"./chunk-BqaLBfJX.js";import"./chunk-D-0JPQv-.js";import"./chunk-CkzawzMq.js";import"./chunk-C9yBD7Cb.js";import"./chunk-C7XbWWq1.js";import"./chunk-C7q-KW3o.js";import"./chunk-9zVPGVP4.js";import"./chunk-C_utqa9G.js";import"./chunk-CW_cxDcB.js";import"./chunk-B3snt2sY.js";import"./chunk-CIQxHwnF.js";import"./chunk-DyD8uEb4.js";import"./chunk-DB3wHNNz.js";import"./chunk-DfWzvhe_.js";import"./chunk-DI0FmvNn.js";import"./chunk-DViVixDW.js";import"./chunk-DPKLMxd7.js";import"./chunk-CiCHXmT9.js";import"./chunk-D9DD00pu.js";import"./chunk-DLws_ICa.js";import"./chunk-XjyAEPTQ.js";import"./chunk-quGueftP.js";import"./chunk-ByqNhg-m.js";import"./chunk-CyhEnEbS.js";import"./chunk-4i9HqfK4.js";import"./chunk-gIQ2rMZF.js";import"./chunk-0FpZiehd.js";import"./chunk-DPAEcZdJ.js";import"./chunk-tqA_bKyq.js";const F=(m,g)=>{const c=new y({color:[255,0,0],size:10,style:"circle",outline:{color:[255,255,255],width:2}}),l=new y({color:[255,0,0],size:10,style:"circle",outline:{color:[255,255,255],width:2}}),t=D(),s=new S,o=new f({symbol:c}),r=new f({symbol:l}),p=H();function P(){const e=u(m);if(!e){console.error("Graphic is not defined");return}const d=e.geometry,R=d.centroid;o.geometry=R,t.graphics.add(o);const _=d.getPoint(0,Math.floor(d.rings[0].length/12));r.geometry=_,t.graphics.add(r);const k=t.on("drag",i=>{p.value&&i.stopPropagation()});s.add(k);const B=t.on("pointer-move",i=>{if(p.value===o){const n=t.toMap({x:i.x,y:i.y});o.geometry=n,e.geometry=new w({...e.geometry,center:n,radius:e.geometry.radius,radiusUnit:e.geometry.radiusUnit});const a=e.geometry.getPoint(0,Math.floor(e.geometry.rings[0].length/12));r.geometry=a}if(p.value===r){const n=t.toMap({x:i.x,y:i.y});r.geometry=n;const a=o.geometry,G=V(new C({latitude:a.latitude,longitude:a.longitude,spatialReference:t.spatialReference}),new C({longitude:n.longitude,latitude:n.latitude,spatialReference:t.spatialReference}),"meters");e.geometry=new w({...e.geometry,center:a,radius:G,radiusUnit:"meters"})}});s.add(B);const U=t.on("pointer-down",i=>{t.hitTest(i).then(n=>{if(n.results.length){const a=n.results[0].graphic;p.value=a}})}),E=t.on("pointer-up",()=>{p.value=void 0});s.add(U),s.add(E)}function h(){s.removeAll(),t.graphics.remove(o),t.graphics.remove(r)}return M(h),{start:P,complete:h}},Ut=$({__name:"update",props:{graphic:{type:Object,default:void 0}},setup(m){const g=m,c=z(()=>g.graphic),{start:l,complete:t}=F(c);return(s,o)=>{const r=N("ElButton");return T(),j(A,null,[v(r,{onClick:u(l)},{default:b(()=>o[0]||(o[0]=[x(" Start ")])),_:1},8,["onClick"]),v(r,{onClick:u(t)},{default:b(()=>o[1]||(o[1]=[x(" Complate ")])),_:1},8,["onClick"])],64)}}});export{Ut as _};
