import{lJ as Re,gO as b,lu as Le,lz as me,BV as J,qZ as ge,gJ as be,lC as Te,lD as $e,vd as Ne,ve as Ae,lk as ze,pt as Me,BW as He,gZ as d,gR as s,gS as v,gV as m,gW as c,h7 as h,qX as U,rl as K,h1 as L,pI as z,pG as N,pH as F,r3 as O,vi as je,vj as Ge,BX as qe,BY as Ke,BZ as Ze,gU as ce,gP as fe,lo as M,g_ as P,h0 as H,h9 as y,vB as we,B_ as Xe,vk as Je,vl as We,lN as Ye,h4 as Z,vo as Qe,vp as xe,B$ as et,C0 as tt,C1 as ot,gX as ve,rg as X,g$ as S,vq as nt,C2 as at,C3 as lt,h3 as Ee,C4 as B,C5 as rt,lI as Pe,C6 as he,C7 as st,C8 as ut,pz as it,vr as pt,vs as dt,C9 as mt,vt as ct,vu as ft,lG as Ie,vv as vt,vw as kt,Ca as yt,vx as Vt,vy as ht,Cb as _t,Cc as gt,Cd as bt,vf as $t,vg as wt,Ce as Et}from"./chunk-CMhy9c9G.js";import{N as ke}from"./chunk-_SCJxduo.js";import{_ as C,c as I,a as R,b as Pt,d as It,u as T,e as Bt,f as Ct,s as St,g as Ft,h as Ut,i as Dt,j as Ot,k as Rt,l as Lt,m as Tt,n as Nt,o as At,p as zt,q as Mt,r as Ht,t as jt,v as Gt,w as qt,x as Kt,y as Zt,z as Xt,A as Jt,B as Wt,C as Yt,V as Qt,D as xt,E as eo}from"./chunk-C5o2Zojc.js";import{R as to}from"./chunk-zKPkODU6.js";const q=(e,t,o,a)=>{if(t==null||a&&e==null)return e;if(Array.isArray(t)){if(!t.length)return e;t=t.flat(1/0);const[r,...u]=t;let l=e[r];return l===void 0&&(o?.(e,r,u[0]),l=e[r]),u.length?q(l,u,o,a):l}else return e instanceof Map?e.get(t):e[t]},Xn=(e,t)=>{const o=e;let a=t.k;if(Array.isArray(a)){a=a.flat(1/0);const r=[...a];if(a=r.pop(),e=q(e,r,t.intoUndefined),e===void 0&&r.length){const u=r.pop(),l=q(o,r);l&&(t.intoUndefined?.(l,u,a),e=l[u])}}if(Array.isArray(e)&&t.insert){e.splice(a,0,t.v);return}e instanceof Map?e.set(a,t.v):e[a]=t.v},oo=(e,t={})=>{let o="";o+=t.prefix||"";for(const a in e)e[a].forEach(r=>{o+=r.message+";"});o+=t.suffix||"",Re({type:"warning",message:o})},Be=e=>{if(typeof e=="boolean"){const t=e;return()=>t}else{if(typeof e=="string")return new Function("data",e);if(typeof e=="function")return e}return()=>!0},_e={source:{type:Array,default:()=>[]},templateInstances:{type:Object,default:void 0},k:{type:Array,default:()=>[]}},Ce=Symbol("templateInstances"),Se=b({name:"VkfFormItemRenderer",props:_e,setup(e,t){const o=e.templateInstances??Le({});me(Ce,o);const a=b({props:_e,setup(u){return()=>J(Se,{templateInstances:o,source:u.source,k:u.k})}}),r=(u,l=[])=>u.reduce((n,p,i)=>{const f=[...e.k,...l,i],V=()=>{ge(()=>{p.templateType&&!o[p.templateType]&&console.warn(p.templateType,"templateType不存在将跳过")})};if(p.templateType&&o[p.templateType]){const _={...p};Reflect.deleteProperty(_,"templateType"),Reflect.deleteProperty(_,"templateSlots"),Reflect.deleteProperty(_,"templateIf");const E=o[p.templateType].slots.default?.({data:_,raw:p,Renderer:a,k:f,key:f.join(",")+"-"+p.templateType+"-"+p?.prop||"no-prop",templateIf:Be(p.templateIf)});E&&n.push(E)}else if(p.templateSlots?.default){if(V(),f.push("templateSlots","default"),Array.isArray(p.templateSlots?.default)){const _=r(p.templateSlots.default,f);n=n.concat(_)}}else V();return n},[]);return()=>[t.slots.default?.(),r(e.source)]}});var W=C(Se,[["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/form-item-renderer/src/index.vue"]]);W.install=e=>{e.component(W.name,W)};const no={type:{type:String,required:!0,default:""}};var ao=b({name:"VkfFormItemRendererTemplate",props:no,setup(e){const t=be(Ce);if(!t)throw new Error;const o=$e(),a=t[e.type];return o&&t&&(t[e.type]=o),Te(()=>{t[e.type]=a}),()=>null}}),j=C(ao,[["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/form-item-renderer-template/src/index.vue"]]);j.install=e=>{e.component(j.name,j)};const ye={...Ne,...I.props,maxlength:{type:Number,required:!1},minlength:{type:Number,required:!1},inputSlots:{type:Object,default:void 0},rows:{type:Number,default:void 0}},lo=ze(ye),Ve={...Ae},ro=Me(Ve);var pe=Object.freeze({__proto__:null,createBindProps:lo,createOnEmits:ro,emits:Ve,props:ye}),so=b({name:"VkfInput",components:{ElInput:He,VkfFormItem:R},emits:Ve,props:ye,setup(e,{emit:t}){const o=Pt(e,["readonly","label"]),a=It(t),r=I.createBindProps(e),u=T(e);return{inputBindProps:o,formItemBindProps:r,readonly:u,inputOnEmits:a}}});function uo(e,t,o,a,r,u){const l=d("ElInput"),n=d("VkfFormItem");return s(),v(n,F(O(e.formItemBindProps)),{default:m(()=>[c(l,h({maxlength:e.maxlength,minlength:e.minlength,rows:e.rows},e.inputBindProps,U(e.inputOnEmits),{readonly:e.readonly}),K({default:m(()=>[L(e.$slots,"default")]),_:2},[z(e.inputSlots,(p,i)=>({name:i,fn:m(f=>[(s(),v(N(p?.(f))))])}))]),1040,["maxlength","minlength","rows","readonly"]),L(e.$slots,"formItem")]),_:3},16)}var G=C(so,[["render",uo],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/input/src/index.vue"]]);G.install=e=>{e.component(G.name,G)};const io={...I.props,...je,modelValue:null,defaultModelValue:{default:!1}},po={...Ge};var mo=b({name:"VkfSwitch",components:{ElSwitch:qe,VkfFormItem:R},emits:po,props:io,setup(e,{emit:t}){const o=I.createBindProps(e),a=Bt(e,["modelValue","disabled","label"]),r=Ct(t),u=T(e);return{formItemBindProps:o,switchBindProps:a,switchOnEmits:r,readonly:u}}});function co(e,t,o,a,r,u){const l=d("ElSwitch"),n=d("VkfFormItem");return s(),v(n,F(O(e.formItemBindProps)),{default:m(()=>[c(l,h({class:{"is-readonly":e.readonly},modelValue:e.modelValue??e.defaultModelValue},e.switchBindProps,U(e.switchOnEmits),{disabled:e.readonly||e.disabled}),{default:m(()=>[L(e.$slots,"default")]),_:3},16,["class","modelValue","disabled"])]),_:3},16)}var Y=C(mo,[["render",co],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/switch/src/index.vue"]]);Y.install=e=>{e.component(Y.name,Y)};const fo={...I.props,...St,options:{type:Array,default:()=>[]},selectSlots:{type:Object,default:void 0},optionsUrl:{type:String,default:""},defaultModelValue:null},vo={...Ft};var ko=b({name:"VkfSelect",components:{VkfFormItem:R,ElSelect:Ke,ElOption:Ze},props:fo,emits:vo,setup(e,{emit:t}){const o=I.createBindProps(e),a=Ut(e,["disabled","modelValue"]),r=Dt(t),u=T(e),l=ce([]),n=V=>{V?fetch(V).then(_=>_.json()).then(_=>{l.value=_}):l.value=[]};e.optionsUrl&&n(e.optionsUrl),fe(()=>e.optionsUrl,V=>{t("update:modelValue",void 0),n(V)});const p=V=>we(V.value)?V.value[a.value.valueKey]:V.value,i=M(()=>(l.value.length?l.value:e.options).reduce((_,E)=>{const D=p(E);return!D&&D!==0&&D!==!1||_.push({...E,key:D}),_},[])),f=ce(!0);return fe(()=>a.value.multiple,()=>{t("update:modelValue",void 0),f.value=!1,ge(()=>{f.value=!0})}),{formItemBindProps:o,selectBindProps:a,selectOnEmits:r,selectOptions:i,reshow:f,readonly:u}}});function yo(e,t,o,a,r,u){const l=d("ElOption"),n=d("ElSelect"),p=d("VkfFormItem");return s(),v(p,F(O(e.formItemBindProps)),{default:m(()=>[e.reshow?(s(),v(n,h({key:0},e.selectBindProps,{"model-value":e.defaultModelValue??e.modelValue,disabled:e.readonly||e.disabled,class:{"is-readonly":e.readonly}},U(e.selectOnEmits)),K({default:m(()=>[(s(!0),P(H,null,z(e.selectOptions,i=>(s(),v(l,h({ref_for:!0},i,{key:i.key}),null,16))),128))]),_:2},[z(e.selectSlots,(i,f)=>({name:f,fn:m(V=>[(s(),v(N(i?.(V))))])}))]),1040,["model-value","disabled","class"])):y("v-if",!0),L(e.$slots,"default")]),_:3},16)}var Q=C(ko,[["render",yo],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/select/src/index.vue"]]);Q.install=e=>{e.component(Q.name,Q)};const Vo={...Ot,...I.props,datePickerSlots:{type:Object,default:void 0}},ho={...Rt};var _o=b({name:"VkfDatePicker",components:{VkfFormItem:R,ElDatePicker:Xe},props:Vo,emits:ho,setup(e,{emit:t}){const o=I.createBindProps(e),a=Lt(e,["type","readonly","label"]),r=Tt(t),u=T(e);return{formItemBindProps:o,datePickerBindProps:a,datePickerOnEmits:r,readonly:u}}});function go(e,t,o,a,r,u){const l=d("ElDatePicker"),n=d("VkfFormItem");return s(),v(n,F(O(e.formItemBindProps)),{default:m(()=>[c(l,h(e.datePickerBindProps,{type:e.type,readonly:e.readonly},U(e.datePickerOnEmits)),K({_:2},[z(e.datePickerSlots,(p,i)=>({name:i,fn:m(f=>[(s(),v(N(p?.(f))))])}))]),1040,["type","readonly"])]),_:1},16)}var x=C(_o,[["render",go],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/date-picker/src/index.vue"]]);x.install=e=>{e.component(x.name||"VkfDatePicker",x)};const bo={...I.props,...Je,readonly:{type:Boolean,default:void 0},unit:{type:String,default:""}},$o={...We};var wo=b({name:"VkfInputNumber",components:{VkfFormItem:R,ElInputNumber:Ye},emits:$o,props:bo,setup(e,{emit:t}){const o=Nt(e,["disabled","readonly","label"]),a=At(t),r=I.createBindProps(e),u=T(e);return{formItemBindProps:r,iBindProps:o,iOnEmits:a,readonly:u}}});const Eo={key:0,class:"vkf-input-number-unit"};function Po(e,t,o,a,r,u){const l=d("ElInputNumber"),n=d("VkfFormItem");return s(),v(n,F(O(e.formItemBindProps)),{default:m(()=>[c(l,h({class:{"is-readonly":e.readonly}},e.iBindProps,U(e.iOnEmits),{readonly:e.readonly,disabled:e.readonly||e.disabled}),null,16,["class","readonly","disabled"]),e.unit?(s(),P("span",Eo,Z(e.unit),1)):y("v-if",!0)]),_:1},16)}var ee=C(wo,[["render",Po],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/input-number/src/index.vue"]]);ee.install=e=>{e.component(ee.name,ee)};const Io={...I.props,...Qe,options:{type:Array,default:()=>[]},type:{type:String,default:"default"},defaultModelValue:{type:Array,default:void 0},modelValue:{type:Array,default:void 0}},Bo={...xe};var Co=b({name:"VkfCheckbox",components:{VkfFormItem:R,ElCheckbox:et,ElCheckboxGroup:tt,ElCheckboxButton:ot},emits:Bo,props:Io,setup(e,{emit:t}){const o=I.createBindProps(e),a=zt(e,["disabled","label"]),r=Mt(t),u=M(()=>e.options.filter(p=>p.value!==void 0&&p.value!==null));!e.modelValue&&e.defaultModelValue&&t("update:modelValue",e.defaultModelValue);const l=T(e);return{formItemBindProps:o,coreBindProps:a,coreOnEmits:r,options:u,readonly:l,pickRadioProps:p=>{const i=X(p,{excludes:["label","value"]});return Ht?i.value=p.value:i.label=p.value,i}}}});function So(e,t,o,a,r,u){const l=d("ElCheckboxGroup"),n=d("VkfFormItem");return s(),v(n,F(O(e.formItemBindProps)),{default:m(()=>[c(l,h({class:{"is-readonly":e.readonly}},e.coreBindProps,U(e.coreOnEmits),{disabled:e.readonly||e.disabled}),{default:m(()=>[(s(!0),P(H,null,z(e.options,p=>(s(),v(N(e.type==="button"?"ElCheckboxButton":"ElCheckbox"),h({key:p.value,label:p.value,ref_for:!0},e.pickRadioProps(p)),{default:m(()=>[ve(Z(p.label??p.value),1)]),_:2},1040,["label"]))),128))]),_:1},16,["class","disabled"])]),_:1},16)}var te=C(Co,[["render",So],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/checkbox/src/index.vue"]]);te.install=e=>{e.component(te.name,te)};/*! Element Plus Icons Vue v2.3.1 */var Fo=b({name:"Check",__name:"check",setup(e){return(t,o)=>(s(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[S("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Uo=Fo,Do=b({name:"CircleCheck",__name:"circle-check",setup(e){return(t,o)=>(s(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[S("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),S("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Oo=Do,Ro=b({name:"Close",__name:"close",setup(e){return(t,o)=>(s(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[S("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Lo=Ro,To=b({name:"Delete",__name:"delete",setup(e){return(t,o)=>(s(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[S("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),No=To,Ao=b({name:"Document",__name:"document",setup(e){return(t,o)=>(s(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[S("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),zo=Ao,Mo=b({name:"Download",__name:"download",setup(e){return(t,o)=>(s(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[S("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),Ho=Mo,jo=b({name:"Right",__name:"right",setup(e){return(t,o)=>(s(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[S("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312z"})]))}}),Go=jo,qo=b({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,o)=>(s(),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[S("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),Ko=qo;const Zo=(e,t,o)=>a=>e(a)?t(a):o(a),Xo=(e,t)=>o=>{const a={interval:100,speed:.01,...t,percent:0,timeLine:0,timer:void 0},r=l=>Zo(n=>!!n,n=>e(1,n),n=>setInterval(()=>{l.timeLine++,l.percent=n?1:(-1/(l.speed*l.timeLine+1)+1)*1,e(l.percent,n)},l.interval));a.timer=r(a)(o);const u=l=>typeof l!="boolean"?(a.timer&&clearInterval(a.timer),a.percent=1,e(a.percent,"fail"),u):(l&&(a.timer&&clearInterval(a.timer),a.percent=1,e(a.percent,l)),u);return u},Jo={...I.props,...nt,tip:{type:String,default:""},preview:{type:Boolean,default:!1},beforeUpload:{type:Function,default:void 0},onDownload:{type:Function,default:void 0}},Wo={"update:fileList":null,remove:e=>e},Yo=new to({baseURL:""});var Qo=b({components:{ElProgress:rt,ElIcon:Pe,Check:Uo,ZoomIn:Ko,Delete:No,Close:Lo,CircleCheck:Oo,Document:zo,Download:Ho},props:{listType:{type:String,default:"text"},file:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},onPreview:{type:Function,default:()=>ke},onDownload:{type:Function,default:void 0},preview:{type:Boolean,default:!1}},emits:{remove:e=>e},setup(e,{emit:t}){const o=he("upload"),a=he("icon"),{t:r}=st();return{handleRemove:(n=e.file)=>{t("remove",n)},t:r,nsIcon:a,nsUpload:o,handleDownload:(n=e.file)=>{if(e.onDownload){e.onDownload(n);return}let p="";n.url?p=n.url:n.raw&&(p=window.URL.createObjectURL(n.raw)),p&&Yo.download({url:p,fileName:n.name},{method:"GET"})}}}});const xo=["src"];function en(e,t,o,a,r,u){const l=d("Document"),n=d("el-icon"),p=d("Download"),i=d("el-progress"),f=d("circle-check"),V=d("Check"),_=d("Close"),E=d("zoom-in"),D=d("Delete");return s(),P(H,null,[y(" picture "),e.listType==="picture"||e.file.status!=="uploading"&&e.listType==="picture-card"?(s(),P(H,{key:0},[/\.(svg|png|jpg|jpeg)$/.test(e.file.name)?(s(),P("img",{key:0,class:B(e.nsUpload.be("list","item-thumbnail")),src:e.file.url,alt:""},null,10,xo)):(s(),v(l,{key:1}))],64)):y("v-if",!0),y(" text "),e.listType!=="picture"&&(e.file.status==="uploading"||e.listType!=="picture-card")?(s(),P("div",{key:1,class:B(e.nsUpload.be("list","item-info"))},[S("a",{class:B(e.nsUpload.be("list","item-name")),onClick:t[1]||(t[1]=ut(A=>e.onPreview(e.file),["prevent"]))},[c(n,{class:B(e.nsIcon.m("document"))},{default:m(()=>[c(l)]),_:1},8,["class"]),c(n,{class:B([e.nsIcon.m("download"),e.nsIcon.m("download-primary")]),onClick:t[0]||(t[0]=A=>e.handleDownload(e.file))},{default:m(()=>[c(p)]),_:1},8,["class"]),S("span",{class:B(e.nsUpload.be("list","item-file-name"))},Z(e.file.name),3)],2),e.file.status==="uploading"?(s(),v(i,{key:0,type:e.listType==="picture-card"?"circle":"line","stroke-width":e.listType==="picture-card"?6:2,percentage:Number(e.file.percentage),style:it(e.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):y("v-if",!0)],2)):y("v-if",!0),S("label",{class:B(e.nsUpload.be("list","item-status-label"))},[e.listType==="text"?(s(),v(n,{key:0,class:B([e.nsIcon.m("upload-success"),e.nsIcon.m("circle-check")])},{default:m(()=>[c(f)]),_:1},8,["class"])):["picture-card","picture"].includes(e.listType)?(s(),v(n,{key:1,class:B([e.nsIcon.m("upload-success"),e.nsIcon.m("check")])},{default:m(()=>[c(V)]),_:1},8,["class"])):y("v-if",!0)],2),e.disabled?y("v-if",!0):(s(),v(n,{key:2,class:B(e.nsIcon.m("close")),onClick:t[2]||(t[2]=A=>e.handleRemove(e.file))},{default:m(()=>[c(_)]),_:1},8,["class"])),y(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),y(" This is a bug which needs to be fixed "),y(" TODO: Fix the incorrect navigation interaction "),y(` <i v-if="!disabled" :class="nsIcon.m('close-tip')">{{
      t('el.upload.deleteTip')
  }}</i> `),y(" picture-card "),e.listType==="picture-card"?(s(),P("span",{key:3,class:B(e.nsUpload.be("list","item-actions"))},[e.preview?(s(),P("span",{key:0,class:B(e.nsUpload.be("list","item-preview")),onClick:t[3]||(t[3]=A=>e.onPreview(e.file))},[c(n,{class:B(e.nsIcon.m("zoom-in"))},{default:m(()=>[c(E)]),_:1},8,["class"])],2)):y("v-if",!0),y(" 下载 "),S("span",{class:B(e.nsUpload.be("list","item-download")),onClick:t[4]||(t[4]=A=>e.handleDownload(e.file))},[c(n,{class:B(e.nsIcon.m("download"))},{default:m(()=>[c(p)]),_:1},8,["class"])],2),e.disabled?y("v-if",!0):(s(),P("span",{key:1,class:B(e.nsUpload.be("list","item-delete")),onClick:t[5]||(t[5]=A=>e.handleRemove(e.file))},[c(n,{class:B(e.nsIcon.m("delete"))},{default:m(()=>[c(D)]),_:1},8,["class"])],2))],2)):y("v-if",!0)],64)}var tn=C(Qo,[["render",en],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/upload/src/file.vue"]]),on=b({name:"VkfUpload",components:{VkfFormItem:R,ElUpload:at,FileVue:tn,ElLink:lt},props:Jo,emits:Wo,setup(e,{emit:t}){const o=I.createBindProps(e),a=jt(e,["disabled","fileList","beforeUpload","onSuccess"]),r=Ee(),u=i=>{r.value?.handleRemove(i),r.value?.abort(i),t("update:fileList",e.fileList)},l=T(e);return{formItemBindProps:o,pickObject:X,coreBindProps:a,uploadRef:r,handleRemove:u,readonly:l,onSuccess:(i,f,V)=>{f.raw.progress(!0),f.percentage=100,f.status="success",e.onSuccess?.(i,f,V)},beforeUpload:async i=>{const f=(V,_)=>{const E=e.fileList.find(D=>D.uid===i.uid);E&&(E.percentage=Number((V*100).toFixed(2)),_===!1&&(E.status="uploading"))};return i.progress=Xo(f)(!1),e.beforeUpload?await e.beforeUpload?.(i):!0}}}});const nn={class:"el-upload__tip"};function an(e,t,o,a,r,u){const l=d("ElLink"),n=d("FileVue"),p=d("ElUpload"),i=d("VkfFormItem");return s(),v(i,F(O(e.formItemBindProps)),{default:m(()=>[c(p,h(e.coreBindProps,{ref:"uploadRef",class:["vkf-upload",{"is-readonly":e.readonly,"is-empty":e.fileList?.length===0,"is-limit":e.limit&&e.fileList?.length>=e.limit}],"file-list":e.fileList??[],"on-success":e.onSuccess,"before-upload":e.beforeUpload,disabled:e.readonly||e.disabled,"onUpdate:fileList":t[0]||(t[0]=f=>e.$emit("update:fileList",f))}),K({file:m(({file:f})=>[c(n,{file:f,"list-type":e.listType,disabled:e.readonly||e.disabled,"on-preview":e.onPreview,preview:e.preview,"on-download":e.onDownload,onRemove:e.handleRemove},null,8,["file","list-type","disabled","on-preview","preview","on-download","onRemove"])]),default:m(()=>[L(e.$slots,"default",{},()=>[c(l,{type:"primary"},{default:m(()=>[ve(" + 选择文件 ")]),_:1})])]),_:2},[e.tip?{name:"tip",fn:m(()=>[S("div",nn,Z(e.tip),1)]),key:"0"}:void 0]),1040,["class","file-list","on-success","before-upload","disabled"]),S("span",{class:B(["vkf-upload-empty-tip",{"is-readonly":e.readonly,"is-empty":e.fileList?.length===0}])},"暂无",2)]),_:3},16)}var oe=C(on,[["render",an],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/upload/src/index.vue"]]);oe.install=e=>{e.component(oe.name,oe)};const ln={...I.props,...pt},rn={...dt};var sn=b({name:"VkfColorPicker",components:{VkfFormItem:R,ElColorPicker:mt},emits:rn,props:ln,setup(e,{emit:t}){const o=I.createBindProps(e),a=Gt(e,["label"]),r=qt(t);return{formItemBindProps:o,coreBindProps:a,coreOnEmits:r}}});function un(e,t,o,a,r,u){const l=d("ElColorPicker"),n=d("VkfFormItem");return s(),v(n,F(O(e.formItemBindProps)),{default:m(()=>[c(l,h(e.coreBindProps,U(e.coreOnEmits)),{default:m(()=>[L(e.$slots,"default")]),_:3},16)]),_:3},16)}var ne=C(sn,[["render",un],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/color-picker/src/index.vue"]]);ne.install=e=>{e.component(ne.name,ne)};const pn={...I.props,...ct,buttonSlots:{type:Object,default:()=>({})},buttonLabel:{type:String,default:""},validate:{type:Boolean,default:!0}},dn={...ft};var mn=b({name:"VkfButton",components:{VkfFormItem:R,ElButton:Ie},emits:dn,props:pn,setup(e,{emit:t}){const o=Kt(e),a=Zt(t,["click"]),r=I.createBindProps(e),u=be("elFormRef",null);return{formBindProps:r,coreBindProps:o,coreOnEmits:a,handleClick:n=>{if(!u||!e.validate)return t("click",n);u.value.validate().then(p=>{p&&t("click",n)}).catch(oo)}}}});function cn(e,t,o,a,r,u){const l=d("ElButton"),n=d("VkfFormItem");return s(),v(n,F(O(e.formBindProps)),{default:m(()=>[c(l,h(e.coreBindProps,U(e.coreOnEmits),{onClick:e.handleClick}),K({default:m(()=>[L(e.$slots,"default",{},()=>[ve(Z(e.buttonLabel),1)])]),_:2},[z(e.buttonSlots,(p,i)=>({name:i,fn:m(f=>[(s(),v(N(p?.(f))))])}))]),1040,["onClick"])]),_:3},16)}var ae=C(mn,[["render",cn],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/button/src/index.vue"]]);ae.install=e=>{e.component(ae.name,ae)};const fn={...vt,...I.props,optionsUrl:{type:String,default:""},readonly:{type:Boolean,default:void 0}},vn={...kt},kn=(e,t)=>{const o=ce([]),a=u=>{u?fetch(u).then(l=>l.json()).then(l=>{o.value=l}):o.value=[]};return e.optionsUrl&&a(e.optionsUrl),fe(()=>e.optionsUrl,u=>{t("update:modelValue",void 0),u&&a(u)}),M(()=>o.value.length?o.value:e.options)};var yn=b({name:"VkfCascader",components:{ElCascader:yt,VkfFormItem:R},emits:vn,props:fn,setup(e,{emit:t}){const o=Xt(e,["options"]),a=Jt(t),r=I.createBindProps(e),u=T(e),l=kn(e,t);return{coreBindProps:o,coreOnEmits:a,formItemBindProps:r,readonly:u,options:l}}});function Vn(e,t,o,a,r,u){const l=d("ElCascader"),n=d("VkfFormItem");return s(),v(n,F(O(e.formItemBindProps)),{default:m(()=>[c(l,h(e.coreBindProps,U(e.coreOnEmits),{readonly:e.readonly,disabled:e.readonly||e.disabled,options:e.options,class:{"is-readonly":e.readonly}}),null,16,["readonly","disabled","options","class"])]),_:1},16)}var le=C(yn,[["render",Vn],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/cascader/src/index.vue"]]);le.install=e=>{e.component(le.name,le)};const hn={...pe.props,type:{type:String,default:"textarea"},rows:{type:Number,default:4},label:{type:String,default:"回填地址"},placeholder:{type:String,default:"上传文件后, 将文件下载地址粘贴到此处"},readonly:{type:Boolean,default:void 0},uploadUrl:{type:String,default:"https://pan.baidu.com/disk/main#/index?category=all"},referenceUrl:{type:String,default:"https://pan.baidu.com/disk/main#/index?category=all"},referenceOnly:{type:Boolean,default:!1},referenceLabel:{type:String,default:"参考地址"},modelValue:{type:String,default:""}},_n={...pe.emits};var gn=b({name:"VkfInputLink",components:{VkfInput:G},emits:_n,props:hn,setup(e,{emit:t}){const o=pe.createBindProps(e),a=pe.createOnEmits(t),r=T(e),u=n=>()=>J(Ie,{onClick:()=>window.open(n),disabled:!n},()=>J(Pe,{class:"vkf-input-link-icon",size:16},()=>J(Go))),l=M(()=>{const n=[{pattern:/^(http|https):\/\/([\w.]+\/?)\S*$/,message:"请输入正确的链接地址"}];return Array.isArray(e.rules)&&n.push(...e.rules),we(e.rules)&&n.push(e.rules),n});return{coreProps:o,coreEmits:a,createAppendEl:u,rules:l,readonly:r}}});const bn={class:"vkf-form-item vkf-input-link"};function $n(e,t,o,a,r,u){const l=d("VkfInput");return s(),P("div",bn,[c(l,{label:e.referenceLabel,disabled:!0,modelValue:e.referenceUrl??e.uploadUrl,inputSlots:{append:e.createAppendEl(e.referenceUrl??e.uploadUrl)}},null,8,["label","modelValue","inputSlots"]),e.referenceOnly?y("v-if",!0):(s(),v(l,h({key:0},e.coreProps,U(e.coreEmits),{rules:e.rules,readonly:e.readonly,type:e.readonly?"text":e.type,inputSlots:{append:e.readonly?e.createAppendEl(e.modelValue):void 0}}),null,16,["rules","readonly","type","inputSlots"]))])}var re=C(gn,[["render",$n],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/input-link/src/index.vue"]]);re.install=e=>{e.component(re.name,re)};const wn={...I.props,...Vt,modelValue:null,defaultModelValue:null},En={...ht};var Pn=b({name:"VkfSlider",components:{ElSlider:_t,VkfFormItem:R},emits:En,props:wn,setup(e,{emit:t}){const o=I.createBindProps(e),a=T(e),r=Wt(e,["modelValue","disabled"]),u=Yt(t);return{readonly:a,formItemBindProps:o,coreProps:r,coreEmits:u}}});function In(e,t,o,a,r,u){const l=d("ElSlider"),n=d("VkfFormItem");return s(),v(n,F(O(e.formItemBindProps)),{default:m(()=>[c(l,h({class:{"is-readonly":e.readonly}},e.coreProps,U(e.coreEmits),{"model-value":e.modelValue??e.defaultModelValue,disabled:e.readonly||e.disabled}),{default:m(()=>[L(e.$slots,"default")]),_:3},16,["class","model-value","disabled"])]),_:3},16)}var se=C(Pn,[["render",In],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/slider/src/index.vue"]]);se.install=e=>{e.component(se.name,se)};const Bn=()=>ke,Cn={data:{type:Object,default:()=>({})},createIntoUndefined:{type:Function,default:Bn}},Sn={setData:e=>e};var Fn=b({name:"VkfTemplatesDefault",components:{VkfFormItemRendererTemplate:j,VkfInput:G,VkfSwitch:Y,VkfSelect:Q,VkfDatePicker:x,VkfInputNumber:ee,VkfRadio:Qt,VkfCheckbox:te,VkfUpload:oe,VkfColorPicker:ne,VkfButton:ae,VkfCascader:le,VkfInputLink:re,VkfSlider:se},emits:Sn,props:Cn,setup(e){return{pickObject:X,getFormDataValue:o=>{const a=o.prop,r=e.createIntoUndefined({raw:o,data:e.data});return q(e.data,a,r,!0)}}}});function Un(e,t,o,a,r,u){const l=d("VkfButton"),n=d("VkfFormItemRendererTemplate"),p=d("VkfColorPicker"),i=d("VkfUpload"),f=d("VkfCheckbox"),V=d("VkfRadio"),_=d("VkfInput"),E=d("VkfSwitch"),D=d("VkfSelect"),A=d("VkfDatePicker"),Fe=d("VkfInputNumber"),Ue=d("VkfCascader"),De=d("VkfInputLink"),Oe=d("VkfSlider");return s(),P(H,null,[c(n,{type:"VkfButton"},{default:m(({data:k,templateIf:g})=>[g(e.data)?(s(),v(l,F(h({key:0},k)),null,16)):y("v-if",!0)]),_:1}),c(n,{type:"VkfColorPicker"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(p,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),c(n,{type:"VkfUpload"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(i,h({key:0,fileList:e.getFormDataValue($),"onUpdate:fileList":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["fileList","onUpdate:fileList"])):y("v-if",!0)]),_:1}),c(n,{type:"VkfCheckbox"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(f,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),c(n,{type:"VkfRadio"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(V,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),c(n,{type:"VkfInput"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(_,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),c(n,{type:"VkfSwitch"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(E,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),c(n,{type:"VkfSelect"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(D,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),c(n,{type:"VkfDatePicker"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(A,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),c(n,{type:"VkfInputNumber"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(Fe,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),c(n,{type:"VkfCascader"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(Ue,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),y(" VkfInputLink "),c(n,{type:"VkfInputLink"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(De,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),y(" VkfSlider "),c(n,{type:"VkfSlider"},{default:m(({data:k,templateIf:g,raw:$})=>[g(e.data)?(s(),v(Oe,h({key:0,modelValue:e.getFormDataValue($),"onUpdate:modelValue":w=>e.$emit("setData",{k:k.prop,v:w})},k),null,16,["modelValue","onUpdate:modelValue"])):y("v-if",!0)]),_:1}),c(n,{type:"Component"},{default:m(({data:k,raw:g,templateIf:$})=>[$(e.data)?(s(),v(N(typeof g.is=="function"?g.is(g):g.is),F(h({key:0},e.pickObject(k,{excludes:["is"]}))),null,16)):y("v-if",!0)]),_:1})],64)}var ue=C(Fn,[["render",Un],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/templates-default/src/index.vue"]]);ue.install=e=>{e.component(ue.name,ue)};const Dn={data:{type:Object,default:()=>({})}};var On=b({name:"VkfTemplatesLayout",props:Dn,components:{ElRow:gt,ElCol:bt,VkfFormItemRendererTemplate:j},setup(){return{pickObject:X}}});function Rn(e,t,o,a,r,u){const l=d("ElRow"),n=d("VkfFormItemRendererTemplate"),p=d("ElCol");return s(),P(H,null,[c(n,{type:"ElRow"},{default:m(({data:i,Renderer:f,raw:V,k:_,templateIf:E})=>[E(e.data)?(s(),v(l,F(h({key:0},i)),{default:m(()=>[(s(),v(N(f),{source:V.templateSlots,k:[..._,"templateSlots"]},null,8,["source","k"]))]),_:2},1040)):y("v-if",!0)]),_:1}),c(n,{type:"ElCol"},{default:m(({data:i,Renderer:f,raw:V,k:_,templateIf:E})=>[E(e.data)?(s(),v(p,F(h({key:0},i)),{default:m(()=>[(s(),v(N(f),{source:V.templateSlots,k:[..._,"templateSlots"]},null,8,["source","k"]))]),_:2},1040)):y("v-if",!0)]),_:1}),c(n,{type:"VkfFlex"},{default:m(({data:i,Renderer:f,raw:V,k:_,templateIf:E})=>[E(e.data)?(s(),P("div",h({key:0,class:"vkf-flex",style:{"justify-content":i.justify,"flex-direction":i.direction,"align-items":i.align,overflow:i.overflow,"flex-grow":i.grow,"flex-shrink":i.shrink,"flex-basis":i.basis}},e.pickObject(i,{excludes:["justify","direction","align","overflow","grow","shrink","basis"]})),[(s(),v(N(f),{source:V.templateSlots,k:[..._,"templateSlots"]},null,8,["source","k"]))],16)):y("v-if",!0)]),_:1})],64)}var ie=C(On,[["render",Rn],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/templates-layout/src/index.vue"]]);ie.install=e=>{e.component(ie.name,ie)};const Ln={...$t,data:{type:Object,default:()=>({})},formItems:{type:Array,default:()=>[]},readonly:{type:Boolean},elRef:{type:Function,default:()=>ke},layout:{type:Boolean,default:!1},rowSource:{type:Object,default:()=>({})},colSource:{type:Object,default:()=>({})}},Tn={...wt,setData:e=>e,validate:null,submit:null},Nn=e=>24-e.templateSlots.reduce((t,o)=>{if(!o.span)throw new Error("ElColSource span is required");return t+o.span},0),An=(e,t={})=>{const o=e.span??t.span;if(o==null)throw new Error("genColItem ElColSource span is required");return{...t,templateType:"ElCol",span:o,templateSlots:[X(e,{excludes:["span"]})]}},zn=(e,t={})=>({...t,templateType:"ElRow",templateSlots:e?[e]:[]});var Mn=b({name:"VkfForm",components:{ElForm:Et,VkfFormItemRenderer:W,VkfTemplatesDefault:ue,VkfTemplatesLayout:ie},props:Ln,emits:Tn,setup(e,{emit:t}){const o=xt(e,["model"]),a=eo(t),r=Ee(),u=$e();me("vkfFormVm",u),me("elFormRef",r);const l=i=>{r.value=i,e.elRef(i)},n=M(()=>e.layout?e.formItems.reduce((i,f)=>{const V=i[i.length-1],_=f.span??e.colSource.span;if(!_)return i.push(f),i;if(Reflect.has(f,"templateIf")&&!Be(f.templateIf)(e.data))return i;const E=An(f,e.colSource);return!V||Nn(V)<_?i.push(zn(E,e.rowSource)):V.templateSlots.push(E),i},[]):e.formItems);return{formProps:o,formEmits:a,getValue:q,getRef:l,computed:M,rendererSource:n,handleSubmit:i=>{i.preventDefault(),t("submit",i)}}}});function Hn(e,t,o,a,r,u){const l=d("VkfTemplatesDefault"),n=d("VkfTemplatesLayout"),p=d("VkfFormItemRenderer"),i=d("ElForm");return s(),v(i,h(e.formProps,{ref:e.getRef,class:{"is-readonly":e.readonly},model:e.model||e.data},U(e.formEmits),{onSubmit:e.handleSubmit}),{default:m(()=>[c(p,{source:e.rendererSource},{default:m(()=>[c(l,{data:e.data,onSetData:t[0]||(t[0]=f=>e.$emit("setData",f))},null,8,["data"]),c(n,{data:e.data},null,8,["data"]),L(e.$slots,"rendererTemplate")]),_:3},8,["source"]),L(e.$slots,"default")]),_:3},16,["class","model","onSubmit"])}var de=C(Mn,[["render",Hn],["__file","/home/runner/work/private-vunk-form/private-vunk-form/packages/components/form/src/index.vue"]]);de.install=e=>{e.component(de.name,de)};const jn=[{value:"VkfInput",label:"输入框"},{value:"VkfSelect",label:"下拉框"},{value:"VkfCheckbox",label:"多选框"},{value:"VkfRadio",label:"单选框"},{value:"VkfDatePicker",label:"日期选择器"},{value:"VkfInputNumber",label:"数字输入框"},{value:"VkfSwitch",label:"开关"},{value:"VkfSlider",label:"滑块"},{value:"VkfInputLink",label:"链接输入框"},{value:"VkfEsriInputGeojson",label:"地信输入框"},{value:"VkfCascader",label:"级联选择器"},{value:"VkfUpload",label:"上传"}];jn.reduce((e,t)=>(e[t.value]=t,e),{});export{de as V,Xn as s};
