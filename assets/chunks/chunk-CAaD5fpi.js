import{p as h,u as b,a as w}from"./chunk-35-ZZMVr.js";import{gO as v,r4 as x,gK as a,lz as f,ck as S,lE as _,h1 as E}from"./chunk-CMhy9c9G.js";import{u as O}from"./chunk-Dc5RCiI0.js";import{u as $}from"./chunk-CNtoRp8i.js";import{u as L}from"./chunk-frOQcENt.js";const j={...h,defaultOptions:{type:Object,default:()=>({})},id:{type:Number,default:0},renderer:{type:Object,default:void 0},definitionExpression:{type:String,default:"1=1"}},V={load:e=>e},g=v({name:"VaSublayer",props:j,emits:V,setup(e,{emit:i}){const u=O(),s=L(),c=$(),t=new x({...e.defaultOptions}),l=t.when(),y=m().then(r=>{t.set("fullExtent",r.extent)});t.when=async function(...r){const[d,p]=r;return y.then(()=>l).then(n=>(d?.(n),n)).catch(n=>{p?.(n)})},a(()=>{t.id=e.id}),a(()=>{e.renderer!==void 0&&(t.renderer=e.renderer)}),a(()=>{t.definitionExpression=e.definitionExpression}),b(t,e),w(s,t,e),f("vaSublayer",t),f("vaLayer",t),i("load",{view:u,sublayers:s,sublayer:t});async function m(){await c.when();const r=t.url;return(await S(r,{query:{f:"json"}})).data}return{}}});function I(e,i,u,s,c,t){return E(e.$slots,"default")}const o=_(g,[["render",I]]);o.install=e=>{e.component(o.name,o)};export{o as V};
