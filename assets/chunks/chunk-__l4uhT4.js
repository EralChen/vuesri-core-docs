import{V as L}from"./chunk-zPn7vAq8.js";import{gZ as _,gT as C,rL as $,gU as M,lz as S,lC as h,lE as b,hc as B,lm as x,he as d,h8 as E,h0 as U,h1 as A,h4 as l,ha as v,hf as G,h5 as w,h2 as n,h6 as c}from"./chunk-r79-UitW.js";import{u as N}from"./chunk-QlMQA5MY.js";import{V as g}from"./chunk-Ze2sBanE.js";import"./chunk-f-qDskxj.js";import"./chunk-QQWeD_ir.js";import"./chunk-c4b-Yaea.js";import"./chunk-EpNfzgt8.js";import"./chunk-GaQCtJAj.js";import"./chunk-iJFM8kcj.js";import"./chunk-MO7AtA6M.js";import"./chunk-A1k3Sw6V.js";import"./chunk-HbTg3DvT.js";import"./chunk-woU6z8Ei.js";import"./chunk-CaitbKEY.js";import"./chunk-ioYUBtQg.js";import"./chunk-AIkMVrBB.js";import"./chunk-Nl6L5Sha.js";import"./chunk-XYcYaV54.js";import"./chunk-oiJm1HFG.js";import"./chunk-A-93cahJ.js";import{V as j}from"./chunk-i8Hri-Zk.js";import"./chunk-qSwNteA0.js";import"./chunk-wpULlYmq.js";import"./chunk-9hAMyKdI.js";import"./chunk-HHSX2f6G.js";import"./chunk-rzTdRPKU.js";import"./chunk-nGBmUvPo.js";import"./chunk-F6pmMbG8.js";import"./chunk-UcyyodeN.js";import"./chunk-AWcxOjZK.js";import"./chunk-vpjPN8w4.js";import"./chunk-8GNmAK67.js";import"./chunk-ozya2Jv4.js";import"./chunk-56-EE9ID.js";import"./chunk-v81I-D8v.js";import"./chunk-yfXX26rS.js";import"./chunk-Z_IYtaAq.js";import"./chunk-V9_cq-fp.js";import"./chunk-B3AFDltd.js";import"./chunk-Y0Vu1B5E.js";import"./chunk-Qgrzwe6s.js";import"./chunk-X1l1T6Lo.js";import"./chunk-NxD5GeLy.js";import"./chunk-XNej7aTS.js";import"./chunk-VeTFGOxM.js";import"./chunk-_In_pGH5.js";import"./chunk--xTsYuJy.js";import"./chunk-ENCxAf3G.js";import"./chunk-lYyaG9p-.js";import"./chunk-1e5GIKf6.js";import"./chunk-iXGO8X4T.js";import"./chunk-GpV4kBjA.js";import"./chunk-a475dYuM.js";import"./chunk-YPK7cZHF.js";import"./chunk-nl3wOKtS.js";import"./chunk-DH-o2pOi.js";const H={layer:{type:Object,default:void 0},modelValue:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!0}},O={load:t=>t,"update:modelValue":t=>t},T=_({name:"VaSketchViewModel",props:H,emits:O,setup(t,{emit:r}){const p=C("vaGraphicsLayer",t.layer),o=N(),e=new $({view:o,layer:p});M(()=>{t.layer&&(e.layer=t.layer,r("update:modelValue",[...e.layer.graphics]))}),S("vaSketchViewModel",e),r("load",{view:o,layer:p,sketchViewModel:e});const m=e.on("create",a=>{a.state==="start"?t.multiple||e.layer.removeAll():a.state==="complete"&&(!t.multiple&&e.layer.graphics.length>1&&a.graphic.geometry.type==="point"&&e.layer.remove(e.layer.graphics.getItemAt(0)),r("update:modelValue",[...e.layer.graphics]))});h(()=>{m.remove()});const y=e.on("update",a=>{a.state==="complete"&&r("update:modelValue",[...e.layer.graphics])});return h(()=>{y.remove()}),{sketchViewModel:e}}});function Z(t,r,p,o,e,m){return B(t.$slots,"default",{sketchViewModel:t.sketchViewModel})}const f=b(T,[["render",Z]]);f.install=t=>{t.component(f.name||"VaSketchViewModel",f)};const Re=_({__name:"basic",setup(t){const p={map:new x({basemap:"arcgis-imagery"})},o=d(),e=d(),m=d(),y=({layer:u})=>{e.value=u},a=({layer:u})=>{m.value=u},V=d([]);return(u,i)=>{const k=E("ElButton");return U(),A(n(L),{"default-options":p},{before:l(()=>[v("button",{onClick:i[0]||(i[0]=s=>o.value=e.value)}," Layer 1 "),v("button",{onClick:i[1]||(i[1]=s=>o.value=m.value)}," Layer 2 ")]),after:l(()=>[w(G(V.value),1)]),default:l(()=>[c(n(g),{onLoad:y}),c(n(g),{onLoad:a}),c(n(f),{modelValue:V.value,"onUpdate:modelValue":i[2]||(i[2]=s=>V.value=s),layer:o.value},{default:l(({sketchViewModel:s})=>[c(n(j),null,{default:l(()=>[c(k,{onClick:()=>s.create("circle",{hasZ:!1})},{default:l(()=>[w(" Create Circle ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["modelValue","layer"])]),_:1})}}});export{Re as default};
