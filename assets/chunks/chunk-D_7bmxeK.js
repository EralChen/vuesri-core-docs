import{bn as v,a6 as B,E as d,g_ as V,h4 as u,lV as M,lv as N,g$ as A,lw as G,ha as T,h2 as z,hb as H,h7 as C,h6 as b,h8 as k,hd as P}from"./chunk-CGsGeN7j.js";import{u as U}from"./chunk-DgbCwlwU.js";import{u as $}from"./chunk-CQim6q2F.js";import"./chunk-Dr1sALog.js";import"./chunk-Bml1PvVS.js";import"./chunk-_zdR56FH.js";import"./chunk-CWLsUwCD.js";import"./chunk-CZd7Zndo.js";import"./chunk-DlX-zbf9.js";import"./chunk-DyQGuRCQ.js";import"./chunk-Dy98_7B9.js";import"./chunk-BqaLBfJX.js";import"./chunk-D-0JPQv-.js";import"./chunk-CkzawzMq.js";import"./chunk-C9yBD7Cb.js";import"./chunk-C7XbWWq1.js";import"./chunk-C7q-KW3o.js";import"./chunk-9zVPGVP4.js";import"./chunk-C_utqa9G.js";import"./chunk-CW_cxDcB.js";import"./chunk-B3snt2sY.js";import"./chunk-CIQxHwnF.js";import"./chunk-DyD8uEb4.js";import"./chunk-DB3wHNNz.js";import"./chunk-DfWzvhe_.js";import"./chunk-DI0FmvNn.js";import"./chunk-DViVixDW.js";import"./chunk-DPKLMxd7.js";import"./chunk-CiCHXmT9.js";import"./chunk-D9DD00pu.js";import"./chunk-DLws_ICa.js";import"./chunk-XjyAEPTQ.js";import"./chunk-quGueftP.js";import"./chunk-ByqNhg-m.js";import"./chunk-CyhEnEbS.js";import"./chunk-4i9HqfK4.js";import"./chunk-gIQ2rMZF.js";import"./chunk-0FpZiehd.js";import"./chunk-DPAEcZdJ.js";import"./chunk-tqA_bKyq.js";var E=(t=>(t.CENTER="center",t.RADIUS="radius",t))(E||{});const j=(t,g)=>{const y=new v({color:[255,0,0],size:8,outline:{color:[255,255,255],width:1}}),h=new v({color:[255,0,0],size:8,outline:{color:[255,255,255],width:1}}),f=new B({color:[0,0,0,.5],style:"solid",outline:{color:[0,0,0],width:1,style:"dash"}}),o=U(),{viewCursorAdd:r,viewCursorRemove:m}=$("crosshair"),p=new N,a=new d({symbol:y}),i=new d({symbol:h,attributes:{type:E.CENTER}}),n=new d({symbol:f});function _(){if(!u(t)){console.error("layerRef is not defined");return}r();const e=o.on("pointer-move",R);p.add(e);const s=o.on("click",x);p.add(s);const c=o.on("double-click",l=>{l.stopPropagation(),w()});p.add(c)}function x(e){if(!o.graphics.includes(i)){const{x:s,y:c}=e,l=o.toMap({x:s,y:c});i.geometry=l,o.graphics.add(i),o.graphics.add(n)}}function R(e){const{x:s,y:c}=e;if(a.geometry=o.toMap({x:s,y:c}),o.graphics.add(a),o.graphics.includes(n)){const S=i.geometry.distance(a.geometry);n.geometry=new M({center:i.geometry,radius:S})}}function w(){if(m(),p.removeAll(),o.graphics.remove(a),o.graphics.remove(i),!o.graphics.includes(n))return;const e=new d({geometry:n.geometry,symbol:g?.symbol});return u(t)?.add(e),o.graphics.remove(n),e}return V(w),{start:_,complete:w}},Bo=A({__name:"create",props:{layer:{type:Object,default:void 0}},setup(t){const g=t,y=G(()=>g.layer),{start:h,complete:f}=j(y);return(o,r)=>{const m=T("ElButton");return z(),H(P,null,[C(m,{onClick:u(h)},{default:b(()=>r[0]||(r[0]=[k(" Start ")])),_:1},8,["onClick"]),C(m,{onClick:u(f)},{default:b(()=>r[1]||(r[1]=[k(" Complete ")])),_:1},8,["onClick"])],64)}}});export{Bo as _};
