import{$ as s,j as l}from"./chunk-FBk98eTj.js";import{l as c,k as u,m as o,n as y}from"./chunk-YzRi88Dj.js";import"./chunk-ByM7454y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const m="Stream Service",f="Feed",d="stream-layer-save",v="stream-layer-save-as";function a(t){return{isValid:t.type==="stream"&&!!t.url&&!t.webSocketUrl,errorMessage:"Stream layer should be created using a url to a stream service"}}function p(t){const r=t.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}async function x(t,r){const{parsedUrl:e,title:n,fullExtent:i}=t;r.url=e.path,r.title||=n,r.extent=null,i!=null&&(r.extent=await c(i)),u(r,o.METADATA),y(r,o.SINGLE_LAYER)}async function Z(t,r){return s({layer:t,itemType:m,additionalItemType:f,validateLayer:a,createItemData:p,errorNamePrefix:d},r)}async function rr(t,r,e){return l({layer:t,itemType:m,validateLayer:a,createItemData:p,errorNamePrefix:v,newItem:r,setItemProperties:x},e)}export{Z as save,rr as saveAs};
