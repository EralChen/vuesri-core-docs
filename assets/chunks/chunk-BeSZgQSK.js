import{N as y}from"./chunk-CBTaaEty.js";import{i as a,U as m,q as T,d as p,K as c,p as f,a as d,r as u,y as b,B as v,C as A,D as g,F as x,G as F,Y as D,N as V,Q as j}from"./chunk-BSi4oUWq.js";import{E as w}from"./chunk-CeYath0a.js";import"./chunk-CMhy9c9G.js";import"./chunk-ByM7454y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-YA9YD_OS.js";import"./chunk-BPVd6ESQ.js";import"./chunk-DaLUiyab.js";import"./chunk-CcEbRgUF.js";function l(e,n){return e&&e.domain?e.domain.type==="coded-value"||e.domain.type==="codedValue"?y.convertObjectToArcadeDictionary({type:"codedValue",name:e.domain.name,dataType:w[e.field.type],codedValues:e.domain.codedValues.map(r=>({name:r.name,code:r.code}))},v(n)):y.convertObjectToArcadeDictionary({type:"range",name:e.domain.name,dataType:w[e.field.type],min:e.domain.minValue,max:e.domain.maxValue},v(n)):null}function vt(e){e.mode==="async"&&(e.functions.domain=function(n,r){return e.standardFunctionAsync(n,r,async(o,s,t)=>{if(a(t,2,3,n,r),m(t[0]))return l(T(t[0],p(t[1]),t[2]===void 0?void 0:t[2]),n);if(c(t[0]))return await t[0]._ensureLoaded(),l(f(p(t[1]),t[0],null,t[2]===void 0?void 0:t[2]),n);throw new d(n,u.InvalidParameter,r)})},e.functions.subtypes=function(n,r){return e.standardFunctionAsync(n,r,async(o,s,t)=>{if(a(t,1,1,n,r),m(t[0])){const i=b(t[0]);return i?y.convertObjectToArcadeDictionary(i,v(n)):null}if(c(t[0])){await t[0]._ensureLoaded();const i=t[0].subtypeMetaData();return i?y.convertObjectToArcadeDictionary(i,v(n)):null}throw new d(n,u.InvalidParameter,r)})},e.functions.domainname=function(n,r){return e.standardFunctionAsync(n,r,async(o,s,t)=>{if(a(t,2,4,n,r),m(t[0]))return A(t[0],p(t[1]),t[2],t[3]===void 0?void 0:t[3]);if(c(t[0])){await t[0]._ensureLoaded();const i=f(p(t[1]),t[0],null,t[3]===void 0?void 0:t[3]);return g(i,t[2])}throw new d(n,u.InvalidParameter,r)})},e.signatures.push({name:"domainname",min:2,max:4}),e.functions.domaincode=function(n,r){return e.standardFunctionAsync(n,r,async(o,s,t)=>{if(a(t,2,4,n,r),m(t[0]))return x(t[0],p(t[1]),t[2],t[3]===void 0?void 0:t[3]);if(c(t[0])){await t[0]._ensureLoaded();const i=f(p(t[1]),t[0],null,t[3]===void 0?void 0:t[3]);return F(i,t[2])}throw new d(n,u.InvalidParameter,r)})},e.signatures.push({name:"domaincode",min:2,max:4}),e.functions.text=function(n,r){return e.standardFunctionAsync(n,r,async(o,s,t)=>{if(a(t,1,2,n,r),c(t[0])){const i=D(t[1],"");if(i==="")return t[0].castToText();if(i.toLowerCase()==="schema")return t[0].convertToText("schema",o.abortSignal);if(i.toLowerCase()==="featureset")return t[0].convertToText("featureset",o.abortSignal);throw new d(n,u.InvalidParameter,r)}return V(t[0],t[1])})},e.functions.gdbversion=function(n,r){return e.standardFunctionAsync(n,r,async(o,s,t)=>{if(a(t,1,1,n,r),m(t[0]))return t[0].gdbVersion();if(c(t[0]))return(await t[0].load()).gdbVersion;throw new d(n,u.InvalidParameter,r)})},e.functions.schema=function(n,r){return e.standardFunctionAsync(n,r,async(o,s,t)=>{if(a(t,1,1,n,r),c(t[0]))return await t[0].load(),y.convertObjectToArcadeDictionary(t[0].schema(),v(n));if(m(t[0])){const i=j(t[0]);return i?y.convertObjectToArcadeDictionary(i,v(n)):null}throw new d(n,u.InvalidParameter,r)})})}export{vt as registerFunctions};
