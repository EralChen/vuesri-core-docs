import{V as y}from"./chunk-DjjaYBlz.js";import{V}from"./chunk-B4Rwpdzs.js";import{_ as g}from"./chunk-igt1gBeK.js";import{u as _}from"./chunk-Dc5RCiI0.js";import{gO as c,h3 as T,lo as w,gP as h,lE as b,gZ as v,gR as u,gS as d,gV as f,h1 as I,gY as L,aL as S,gW as n,gT as p}from"./chunk-CMhy9c9G.js";import{V as R,s as k}from"./chunk-UsAGatjR.js";import"./chunk-C5o2Zojc.js";import{V as $}from"./chunk-Cj_Zd08g.js";import"./chunk-DHvBO4SR.js";import"./chunk-DobUN8tB.js";import"./chunk-Ch0SDxT-.js";/* empty css              */import"./chunk--OMOLJvv.js";import"./chunk-hcQCkdqJ.js";import"./chunk-DfjCgXDb.js";import"./chunk-CNtoRp8i.js";import"./chunk-35-ZZMVr.js";import"./chunk-DAZPr-5t.js";import"./chunk-ByM7454y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-_SCJxduo.js";import"./chunk-zKPkODU6.js";import"./chunk-BqmX71u_.js";import"./chunk-2F9zfzHu.js";const x={url:{type:String,required:!0},format:{type:String,default:"png"},transparent:{type:Boolean,default:!0},tileInfo:{type:Object,default:void 0},spatialReference:{type:Object,default:void 0}},O={load:t=>t},C=c({name:"VaSupmapZxyTileImage",components:{VaWebTileLayer:g},props:x,emits:O,setup(t,{emit:a}){const m=_(),r=T(),i=m.map.basemap.baseLayers.getItemAt(0),o=w(()=>{const e=new URL(t.url);return e.pathname+=`.${t.format}`,e.searchParams.set("transparent",t.transparent+""),e.searchParams.set("z","{level}"),e.searchParams.set("x","{col}"),e.searchParams.set("y","{row}"),decodeURIComponent(e.toString())});return h(o,e=>{r.value?.set("urlTemplate",e),r.value?.refresh()}),{defaultOptions:{urlTemplate:o.value,tileInfo:t.tileInfo||i?.tileInfo,spatialReference:t.spatialReference||i?.spatialReference},layerLoad:e=>{r.value=e.layer,a("load",e)}}}});function P(t,a,m,r,i,o){const s=v("VaWebTileLayer");return u(),d(s,{"default-options":t.defaultOptions,onLoad:t.layerLoad},{default:f(()=>[I(t.$slots,"default")]),_:3},8,["default-options","onLoad"])}const l=b(C,[["render",P]]);l.install=t=>{t.component(l.name||"VaSupmapZxyTileImage",l)};const W="https://iserver.supermap.io/iserver/services/map-china400/rest/maps/China/zxyTileImage",jt=c({__name:"basic",setup(t){const a=L({url:W,transparent:!0,format:"png"}),m=[{templateType:"VkfInput",label:"url",prop:"url"},{templateType:"VkfSwitch",label:"transparent",prop:"transparent"},{templateType:"VkfInput",label:"format",prop:"format"}],r={center:new S({x:1213019755e-2,y:475975503e-2,spatialReference:{wkid:3857}}),zoom:16};return(i,o)=>(u(),d(p(y),{"default-options":r},{before:f(()=>[n(p(R),{"form-items":m,data:a,onSetData:o[0]||(o[0]=s=>p(k)(a,s))},null,8,["data"])]),default:f(()=>[n(p(V),{type:"img_w","spatial-reference":{wkid:3857},anno:!1}),n(p(l),{url:a.url,transparent:a.transparent,format:a.format,opacity:.8},null,8,["url","transparent","format"]),n(p($),{type:"cta_w","spatial-reference":{wkid:3857}})]),_:1}))}});export{jt as default};
