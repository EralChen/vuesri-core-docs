import{V as u}from"./chunk-BY_FN4O4.js";import{V as d}from"./chunk-B4Rwpdzs.js";import{gO as v,h2 as w,gY as V,gZ as l,gR as c,gS as _,gV as i,g$ as C,gW as p,gX as b,gT as n,g_ as k,h9 as x}from"./chunk-CMhy9c9G.js";import"./chunk-DobUN8tB.js";import"./chunk-Dc5RCiI0.js";import"./chunk-Ch0SDxT-.js";import"./chunk-DHvBO4SR.js";/* empty css              */import"./chunk--OMOLJvv.js";import"./chunk-hcQCkdqJ.js";import"./chunk-Cj_Zd08g.js";import"./chunk-igt1gBeK.js";import"./chunk-35-ZZMVr.js";import"./chunk-DAZPr-5t.js";import"./chunk-BqmX71u_.js";import"./chunk-2F9zfzHu.js";import"./chunk-DfjCgXDb.js";import"./chunk-CNtoRp8i.js";import"./chunk-ByM7454y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const B=["src"],E="f0175927031c1e12cb804b0c3b8cce4d",Bt=v({__name:"to-img",setup(T){const a=new w,o=V({visible:!1,src:""}),s=function(e){return function(t,r){return(t==="webgl"||t==="webgl2")&&(r=Object.assign({},r,{preserveDrawingBuffer:!0})),e.call(this,t,r)}}(HTMLCanvasElement.prototype.getContext);HTMLCanvasElement.prototype.getContext!==s&&(HTMLCanvasElement.prototype.getContext=s);const g=async()=>{const e=await a.promise;await e.when();const t=e.container.querySelector("canvas");t&&(o.src=t.toDataURL("image/png")),o.visible=!0};return(e,t)=>{const r=l("ElButton"),f=l("ElDialog");return c(),_(n(u),{defaultOptions:{zoom:7,center:[121.34822492731212,28.95909791842632]},onLoad:t[1]||(t[1]=m=>n(a).resolve(m.view))},{before:i(()=>[C("p",null,[p(r,{onClick:g},{default:i(()=>t[2]||(t[2]=[b("导出")])),_:1})])]),default:i(()=>[p(n(d),{type:"vec_w",token:E,spatialReference:{wkid:3857}}),p(f,{modelValue:o.visible,"onUpdate:modelValue":t[0]||(t[0]=m=>o.visible=m)},{default:i(()=>[o.src?(c(),k("img",{key:0,src:o.src},null,8,B)):x("",!0)]),_:1},8,["modelValue"])]),_:1})}}});export{Bt as default};
