import{gO as m,h3 as p,gP as y,lE as f,gZ as l,gR as V,gS as h,gV as d,gW as g,h7 as F,qX as L,h1 as _}from"./chunk-CMhy9c9G.js";import{p as $,c as C}from"./chunk-PTUe1aNG.js";import{e as q,V as v,c as O}from"./chunk-CM_lIypp.js";import{V as P}from"./chunk-CmV2Xkqf.js";import{u as b}from"./chunk-DZzPOt9C.js";const j={...$,query:{type:Object,default:void 0}},w={...q},E=m({name:"VaDerivedFeatureLayer",components:{VaClientFeatureLayer:v,VaLayerWhen:P},emits:w,props:j,setup(e,{emit:i}){const o=b(),c=C(e,["renderer"]),u=O(i),r=p([]);return y(()=>e.query&&{...e.query},t=>{t?o.queryFeatures({where:"1=1",returnGeometry:!0,outFields:["*"],outSpatialReference:o.spatialReference,...t}).then(s=>{r.value=s.features}):r.value=[]},{immediate:!0}),{source:r,featureLayerProps:c,clientFeatureLayerOnEmit:u}}});function R(e,i,o,c,u,r){const t=l("VaClientFeatureLayer"),s=l("VaLayerWhen");return V(),h(s,null,{default:d(({layer:a})=>[g(t,F({"object-id-field":a.objectIdField,"geometry-type":a.geometryType,fields:a.fields,source:e.source,renderer:e.renderer||a.renderer},e.featureLayerProps,L(e.clientFeatureLayerOnEmit)),{default:d(()=>[_(e.$slots,"default")]),_:2},1040,["object-id-field","geometry-type","fields","source","renderer"])]),_:3})}const n=f(E,[["render",R]]);n.install=e=>{e.component(n.name,n)};export{n as V};
