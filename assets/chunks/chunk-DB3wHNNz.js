import{V as h}from"./chunk-DyD8uEb4.js";import{u as v}from"./chunk-DgbCwlwU.js";import{s as d}from"./chunk-DHvBO4SR.js";import{c as w}from"./chunk-DsXvdgDB.js";import{g$ as y,lw as m,h5 as g,hg as V,lJ as x,h0 as S,lL as b,ha as U,lR as _,lS as $,h2 as B,h3 as C,h6 as P,he as G,nG as M}from"./chunk-CGsGeN7j.js";/* empty css              */const j={geometry:{type:Object,default:void 0},visible:{type:Boolean,default:!0},outContainsShow:{type:Boolean,default:!1},position:{type:[String,Object],default:"manual"},orphan:{type:Boolean,default:!1}},k={},H=y({name:"VaGeoViewUi",components:{VaViewUi:h},emits:k,props:j,setup(e){const r=v(),i=r[d],l=w(i),c={point(t){return t},extent(t){return t.center},mesh(t){return t.extent.center},multipoint(t){return t.extent.center},polygon(t){return t.extent.center},polyline(t){return t.extent.center}},n=m(()=>e.geometry?.type&&c[e.geometry.type](e.geometry)),o=g(!0),u=V(),a=()=>{let t=n.value?r.toScreen(n.value):{x:0,y:0};u.value=t};a();const p=new l("watch:extent",([t])=>{if(e.visible&&n.value){if(!e.outContainsShow&&!t.contains(n.value))return o.value=!1;a(),o.value=!0}});p.add(),x(()=>{p.remove()}),S(()=>n.value,()=>{a()});const f=m(()=>e.visible?o.value:!1);return{screenPoint:u,visible:f,setScreenPoint:a}}});function O(e,r,i,l,c,n){const o=U("VaViewUi");return _((B(),C(o,{class:"va-geo-view-ui",style:M({left:e.screenPoint?.x+"px",top:e.screenPoint?.y+"px"}),position:e.position,orphan:e.orphan},{default:P(()=>[G(e.$slots,"default")]),_:3},8,["style","position","orphan"])),[[$,e.visible]])}const s=b(H,[["render",O]]);s.install=e=>{e.component(s.name,s)};export{s as V};
