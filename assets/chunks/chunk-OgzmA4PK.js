import{b$ as C,a4 as B,C as d,gX as M,h2 as u,lQ as N,lr as P,gZ as V,ls as A,h8 as G,h0 as T,h9 as z,h6 as b,h4 as v,h5 as k,hb as H}from"./chunk-fHrNL0KE.js";import{u as U}from"./chunk-oihAJXyJ.js";import{u as $}from"./chunk-MYTjcHVF.js";import"./chunk-DxdXOgnz.js";import"./chunk-aaF08RLl.js";import"./chunk-CJ93w3lF.js";import"./chunk-5sZ8cOm7.js";import"./chunk-qU9ug55b.js";import"./chunk-696gQ_0Y.js";import"./chunk-Gh-YYW1u.js";import"./chunk-dh53Jslg.js";import"./chunk-V7wMI-M1.js";import"./chunk-7WQT7ntw.js";import"./chunk--fAu8HIB.js";import"./chunk-ADeLpH6z.js";import"./chunk-PEmjdORh.js";import"./chunk-udydY4-Q.js";import"./chunk-lUz6pzTx.js";import"./chunk-OtrhsN3k.js";import"./chunk-hwxJk16m.js";import"./chunk-QxXwI5R8.js";import"./chunk-MdcONs9d.js";import"./chunk-webAJys3.js";import"./chunk-Zdebg6g9.js";import"./chunk-UM8yAOgJ.js";import"./chunk-BZyJvBwR.js";import"./chunk-Or-nAgsa.js";import"./chunk-XfrNqGsj.js";import"./chunk-DhGbJNcI.js";import"./chunk-Nw9qefak.js";import"./chunk-k8skosWR.js";import"./chunk-0R7WeF7L.js";import"./chunk-nIGC-Ax6.js";import"./chunk-F9gjVU-T.js";import"./chunk-oBZYJIeq.js";import"./chunk-PtKCC_GV.js";import"./chunk-oP0o3Nh4.js";import"./chunk-khhwXIoB.js";import"./chunk-2fioQh0W.js";import"./chunk-xKJ-Rb1Q.js";var _=(t=>(t.CENTER="center",t.RADIUS="radius",t))(_||{});const j=(t,r)=>{const h=r?.floatingPointSymbol||new C({color:[255,0,0],size:8,outline:{color:[255,255,255],width:1}}),y=r?.centerControlPointSymbol||new C({color:[255,0,0],size:8,outline:{color:[255,255,255],width:1}}),g=r?.previewSymbol||new B({color:[0,0,0,.5],style:"solid",outline:{color:[0,0,0],width:1,style:"dash"}}),o=U(),{viewCursorAdd:w,viewCursorRemove:m}=$("crosshair"),p=new P,a=new d({symbol:h}),i=new d({symbol:y,attributes:{type:_.CENTER}}),n=new d({symbol:g});function S(){if(!u(t)){console.error("layerRef is not defined");return}w();const e=o.on("pointer-move",x);p.add(e);const c=o.on("click",E);p.add(c);const s=o.on("double-click",l=>{l.stopPropagation(),f()});p.add(s)}function E(e){if(!o.graphics.includes(i)){const{x:c,y:s}=e,l=o.toMap({x:c,y:s});i.geometry=l,o.graphics.add(i),o.graphics.add(n)}}function x(e){const{x:c,y:s}=e;if(a.geometry=o.toMap({x:c,y:s}),o.graphics.add(a),o.graphics.includes(n)){const R=i.geometry.distance(a.geometry);n.geometry=new N({center:i.geometry,radius:R})}}function f(){if(m(),p.removeAll(),o.graphics.remove(a),o.graphics.remove(i),!o.graphics.includes(n))return;const e=new d({geometry:n.geometry,symbol:r?.symbol});return u(t)?.add(e),o.graphics.remove(n),e}return M(f),{start:S,complete:f}},Bo=V({__name:"create",props:{layer:{type:Object,default:void 0}},setup(t){const r=t,h=A(()=>r.layer),{start:y,complete:g}=j(h);return(o,w)=>{const m=G("ElButton");return T(),z(H,null,[b(m,{onClick:u(y)},{default:v(()=>[k(" Start ")]),_:1},8,["onClick"]),b(m,{onClick:u(g)},{default:v(()=>[k(" Complete ")]),_:1},8,["onClick"])],64)}}});export{Bo as _};
