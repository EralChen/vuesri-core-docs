import{V as d}from"./chunk-Dr1sALog.js";import{V as g}from"./chunk-BqaLBfJX.js";import{g$ as v,hf as w,h9 as C,ha as l,h2 as c,h3 as V,h6 as i,hc as _,h7 as p,h8 as h,h4 as n,hb as b,hm as k}from"./chunk-CGsGeN7j.js";import"./chunk-BKL_2IJ-.js";import"./chunk-DgbCwlwU.js";import"./chunk-Ch0SDxT-.js";import"./chunk-DHvBO4SR.js";/* empty css              */import"./chunk-kMf2kMGt.js";import"./chunk-_zdR56FH.js";import"./chunk-CkzawzMq.js";import"./chunk-D-0JPQv-.js";import"./chunk-DsXvdgDB.js";import"./chunk-BENtfmUH.js";import"./chunk-DEf3pTt_.js";import"./chunk-BgvE4WKF.js";import"./chunk-CZd7Zndo.js";import"./chunk-BkmbGN9h.js";import"./chunk-ByM7454y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const x=["src"],B="f0175927031c1e12cb804b0c3b8cce4d",xt=v({__name:"to-img",setup(E){const a=new w,o=C({visible:!1,src:""}),s=function(e){return function(t,r){return(t==="webgl"||t==="webgl2")&&(r=Object.assign({},r,{preserveDrawingBuffer:!0})),e.call(this,t,r)}}(HTMLCanvasElement.prototype.getContext);HTMLCanvasElement.prototype.getContext!==s&&(HTMLCanvasElement.prototype.getContext=s);const f=async()=>{const e=await a.promise;await e.when();const t=e.container.querySelector("canvas");t&&(o.src=t.toDataURL("image/png")),o.visible=!0};return(e,t)=>{const r=l("ElButton"),u=l("ElDialog");return c(),V(n(d),{defaultOptions:{zoom:7,center:[121.34822492731212,28.95909791842632]},onLoad:t[1]||(t[1]=m=>n(a).resolve(m.view))},{before:i(()=>[_("p",null,[p(r,{onClick:f},{default:i(()=>t[2]||(t[2]=[h("导出")])),_:1})])]),default:i(()=>[p(n(g),{type:"vec_w",token:B,spatialReference:{wkid:3857}}),p(u,{modelValue:o.visible,"onUpdate:modelValue":t[0]||(t[0]=m=>o.visible=m)},{default:i(()=>[o.src?(c(),b("img",{key:0,src:o.src},null,8,x)):k("",!0)]),_:1},8,["modelValue"])]),_:1})}}});export{xt as default};
