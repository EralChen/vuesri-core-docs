import{p as l,b as u,d as c,a as f}from"./chunk-pxSSoWZz.js";import{gY as p,gT as m,lD as g,hb as h}from"./chunk-fyrbxnSH.js";import y from"./chunk-Wy5ezh8e.js";import{u as $}from"./chunk-_N6gej9z.js";import{u as _}from"./chunk-0HH7s1DD.js";const b={...l,defaultOptions:{type:Object,default:()=>({})},url:{type:String,required:!0},token:{type:String,default:void 0}},O={load:e=>e},S=p({name:"VaIntegratedMesh3dTilesLayer",props:b,emits:O,setup(e,{emit:n}){const s=$(),o=s.map,t=new y({...e.defaultOptions}),{interceptorToggle:i}=_({urls:[new RegExp(`${e.url.split("/tileset.json")[0]}`)],before:r=>{if(e.token){const d=r.requestOptions.headers;r.requestOptions.headers={...d,Authorization:`Bearer ${e.token}`}}}});return i.add(),m(()=>{t.url=e.url}),u(t,e),c(s,e,r=>{t.visible=r}),f(o,t,e),n("load",{view:s,layer:t}),{}}});function V(e,n,s,o,t,i){return h(e.$slots,"default")}const a=g(S,[["render",V]]);a.install=e=>{e.component(a.name||"VaIntegratedMesh3dTilesLayer",a)};export{a as V};
