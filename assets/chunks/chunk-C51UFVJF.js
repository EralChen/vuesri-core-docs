import{V as y}from"./chunk-CD3FIDfI.js";import{V as h}from"./chunk-C9tqeO9j.js";import{_ as V}from"./chunk-BkUj7kCJ.js";import{u as _}from"./chunk-mQ0J7OJ8.js";import{g$ as c,hg as w,lw as T,h0 as b,lL as v,ha as g,h2 as u,h3 as d,h6 as f,he as I,h9 as L,bd as S,h7 as n,h4 as p}from"./chunk-YzRi88Dj.js";import{V as $,s as k}from"./chunk-SyfkAsIp.js";import"./chunk-DjOIj6-o.js";import{V as x}from"./chunk-lA_W8v3a.js";import"./chunk-DHvBO4SR.js";import"./chunk-B7IxsrlQ.js";import"./chunk-Ch0SDxT-.js";/* empty css              */import"./chunk-BJmFAILw.js";import"./chunk-DlgRifwZ.js";import"./chunk-Clcwg9Qm.js";import"./chunk-CFLxDY7g.js";import"./chunk-BHw4eVQu.js";import"./chunk-BCOlSIf9.js";import"./chunk-ByM7454y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-_SCJxduo.js";import"./chunk-zKPkODU6.js";import"./chunk-CurIDYYZ.js";import"./chunk-CuewZUm5.js";const R={url:{type:String,required:!0},format:{type:String,default:"png"},transparent:{type:Boolean,default:!0},tileInfo:{type:Object,default:void 0},spatialReference:{type:Object,default:void 0}},O={load:t=>t},C=c({name:"VaSupmapZxyTileImage",components:{VaWebTileLayer:V},props:R,emits:O,setup(t,{emit:a}){const m=_(),r=w(),i=m.map.basemap.baseLayers.getItemAt(0),o=T(()=>{const e=new URL(t.url);return e.pathname+=`.${t.format}`,e.searchParams.set("transparent",t.transparent+""),e.searchParams.set("z","{level}"),e.searchParams.set("x","{col}"),e.searchParams.set("y","{row}"),decodeURIComponent(e.toString())});return b(o,e=>{r.value?.set("urlTemplate",e),r.value?.refresh()}),{defaultOptions:{urlTemplate:o.value,tileInfo:t.tileInfo||i?.tileInfo,spatialReference:t.spatialReference||i?.spatialReference},layerLoad:e=>{r.value=e.layer,a("load",e)}}}});function B(t,a,m,r,i,o){const s=g("VaWebTileLayer");return u(),d(s,{"default-options":t.defaultOptions,onLoad:t.layerLoad},{default:f(()=>[I(t.$slots,"default")]),_:3},8,["default-options","onLoad"])}const l=v(C,[["render",B]]);l.install=t=>{t.component(l.name||"VaSupmapZxyTileImage",l)};const P="https://iserver.supermap.io/iserver/services/map-china400/rest/maps/China/zxyTileImage",Dt=c({__name:"basic",setup(t){const a=L({url:P,transparent:!0,format:"png"}),m=[{templateType:"VkfInput",label:"url",prop:"url"},{templateType:"VkfSwitch",label:"transparent",prop:"transparent"},{templateType:"VkfInput",label:"format",prop:"format"}],r={center:new S({x:1213019755e-2,y:475975503e-2,spatialReference:{wkid:3857}}),zoom:16};return(i,o)=>(u(),d(p(y),{"default-options":r},{before:f(()=>[n(p($),{"form-items":m,data:a,onSetData:o[0]||(o[0]=s=>p(k)(a,s))},null,8,["data"])]),default:f(()=>[n(p(h),{type:"img_w","spatial-reference":{wkid:3857},anno:!1}),n(p(l),{url:a.url,transparent:a.transparent,format:a.format,opacity:.8},null,8,["url","transparent","format"]),n(p(x),{type:"cta_w","spatial-reference":{wkid:3857}})]),_:1}))}});export{Dt as default};
