import{fl as c,cp as s,b$ as u,fm as v,am as r,au as f}from"./chunk-CGsGeN7j.js";function d(t,a){t.interactive=!0;const{tool:n,view:l}=t;l.activeTool=n;let i=c(a,()=>{l.activeTool===n&&(l.activeTool=null)});return s(async o=>{await u(()=>n==null||!n.active,o),i=v(i)},a)}function y(t,a){return r(()=>t.interactive,()=>w(t,a),f)}function w(t,a){t.interactive?m(t,a):e(t)}function m(t,a){e(t);const{view:n,analysis:l}=t,i=new a({view:n,analysis:l,analysisViewData:t});return t.tool=i,n.tools.add(i),i}function e(t){const{view:a,tool:n}=t;n!=null&&(a.tools.remove(n),t.tool=null)}export{y as a,d as l,e as v};
