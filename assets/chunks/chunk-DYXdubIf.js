import{V as v}from"./chunk-BY_FN4O4.js";import{V as w}from"./chunk-B4Rwpdzs.js";import{V as b}from"./chunk-D_aEPSIR.js";import{gJ as k,gO as y,lC as V,gL as S,gM as x,lE as C,h1 as _,gc as $,aX as M,gU as E,gZ as O,gR as T,gS as B,gV as s,g$ as q,gW as a,gX as f,gT as p}from"./chunk-CMhy9c9G.js";import{V as L}from"./chunk-CAaD5fpi.js";import{u as F}from"./chunk-Dc5RCiI0.js";import{s as H}from"./chunk-DHvBO4SR.js";import{g as N,c as U}from"./chunk-35-ZZMVr.js";import"./chunk-DobUN8tB.js";import"./chunk-Ch0SDxT-.js";/* empty css              */import"./chunk--OMOLJvv.js";import"./chunk-hcQCkdqJ.js";import"./chunk-Cj_Zd08g.js";import"./chunk-igt1gBeK.js";import"./chunk-BqmX71u_.js";import"./chunk-2F9zfzHu.js";import"./chunk-DfjCgXDb.js";import"./chunk-CNtoRp8i.js";import"./chunk-CmV2Xkqf.js";import"./chunk-CLwfGE1I.js";import"./chunk-ByM7454y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-frOQcENt.js";import"./chunk-DAZPr-5t.js";function j(){const t=k("vaSublayer");if(!t)throw new Error("The component which use useSublayer() must be in a  Sublayer component");return t}const A={query:{type:Object,default:()=>({})}},X={click:t=>t},z=y({name:"VaSublayerOnClick",props:A,emits:X,setup(t,{emit:u}){const m=j(),o=F(),c=o[H],r=U(c),e=new r("click",i=>{const n=m.createQuery(),g=N(o,{x:i.event.x,y:i.event.y});n.geometry=g,n.outFields=["*"];for(const l in t.query)n[l]=t.query[l];m.queryFeatures(n).then(l=>{u("click",{...i,featureSet:l,result:l.features[0],layer:m})})});return e.add(),V(()=>{e.remove()}),S(()=>{e.remove()}),x(()=>{e.add()}),{}}});function D(t,u,m,o,c,r){return _(t.$slots,"default")}const d=C(z,[["render",D]]);d.install=t=>{t.component(d.name,d)};const Pe=y({__name:"index",setup(t){const u=async r=>{const e=r.view;await r.layer.when(),e.goTo(r.layer.fullExtent)},m=new $({symbol:new M({color:"red"})}),o=E("1=1"),c=r=>{console.log("onSublayerClick",r)};return(r,e)=>{const i=O("ElButton");return T(),B(p(v),{defaultOptions:{zoom:2}},{before:s(()=>[q("p",null,[a(i,{onClick:e[0]||(e[0]=n=>o.value="1=1")},{default:s(()=>e[3]||(e[3]=[f("1 = 1")])),_:1}),a(i,{onClick:e[1]||(e[1]=n=>o.value="1=0")},{default:s(()=>e[4]||(e[4]=[f("1 = 0")])),_:1}),a(i,{onClick:e[2]||(e[2]=n=>o.value="st='MO'")},{default:s(()=>e[5]||(e[5]=[f("st = MO")])),_:1})])]),default:s(()=>[a(p(w),{type:"vec_w",anno:!1,"spatial-reference":{wkid:3857}}),a(p(b),{sublayers:[],url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer",onLoad:u},{when:s(()=>[a(p(L),{id:0,renderer:p(m),visible:!0,definitionExpression:o.value},{default:s(()=>[a(p(d),{onClick:c})]),_:1},8,["renderer","definitionExpression"])]),_:1})]),_:1})}}});export{Pe as default};
